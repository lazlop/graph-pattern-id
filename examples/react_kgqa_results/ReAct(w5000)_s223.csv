query_id,question_number,source,question,model,ground_truth_sparql,generated_sparql,syntax_ok,returns_results,perfect_match,gt_num_rows,gt_num_cols,gen_num_rows,gen_num_cols,precision,recall,f1,prompt_tokens,completion_tokens,total_tokens,col_precision,col_recall,col_f1,row_precision,row_recall,row_f1,less_columns_flag
custom_q_1,N/A,custom_list,"I'm too cold, find the components most likely at fault.",openai/gpt-4.1,,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX qudt: <http://qudt.org/schema/qudt/>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?zone ?zone_temp_prop ?zone_temp ?setpoint_prop ?setpoint ?vav ?damper ?damper_pos_prop ?damper_pos ?heating_coil ?coil_cmd_prop ?coil_cmd
WHERE {
  # Find zone temperature properties
  ?zone_temp_prop qudt:hasQuantityKind quantitykind:Temperature .
  ?zone s223:hasProperty ?zone_temp_prop .
  OPTIONAL { ?zone_temp_prop qudt:value ?zone_temp . }
  OPTIONAL { ?zone_temp_prop s223:hasValue ?zone_temp . }
  OPTIONAL { ?zone_temp_prop ?anyTempPred ?zone_temp . FILTER(isLiteral(?zone_temp)) }

  # Find setpoint for the same zone (if any)
  OPTIONAL {
    ?zone s223:hasProperty ?setpoint_prop .
    ?setpoint_prop s223:hasAspect s223:Aspect-Setpoint .
    OPTIONAL { ?setpoint_prop qudt:value ?setpoint . }
    OPTIONAL { ?setpoint_prop s223:hasValue ?setpoint . }
    OPTIONAL { ?setpoint_prop ?anySetPred ?setpoint . FILTER(isLiteral(?setpoint)) }
  }

  # Only consider zones where temperature is below setpoint (too cold), but allow missing setpoint
  FILTER(!bound(?setpoint) || (!bound(?zone_temp) || ?zone_temp < ?setpoint))

  # Find the VAV terminal serving this zone (by property or containment)
  ?vav (s223:hasProperty|s223:contains|^s223:hasProperty|^s223:contains)* ?zone_temp_prop .

  # Find damper and its position (if any)
  OPTIONAL {
    ?vav s223:contains ?damper .
    ?damper a s223:Damper .
    OPTIONAL {
      ?damper s223:hasProperty ?damper_pos_prop .
      ?damper_pos_prop qudt:hasQuantityKind quantitykind:PositionRatio .
      OPTIONAL { ?damper_pos_prop qudt:value ?damper_pos . }
      OPTIONAL { ?damper_pos_prop s223:hasValue ?damper_pos . }
      OPTIONAL { ?damper_pos_prop ?anyDamperPred ?damper_pos . FILTER(isLiteral(?damper_pos)) }
    }
  }

  # Find reheat coil and its command (if any)
  OPTIONAL {
    ?vav s223:contains ?heating_coil .
    ?heating_coil a s223:Coil .
    OPTIONAL { ?heating_coil s223:hasAspect s223:Role-Heating . }
    OPTIONAL {
      ?heating_coil s223:hasProperty ?coil_cmd_prop .
      ?coil_cmd_prop qudt:hasQuantityKind quantitykind:PositionRatio .
      OPTIONAL { ?coil_cmd_prop qudt:value ?coil_cmd . }
      OPTIONAL { ?coil_cmd_prop s223:hasValue ?coil_cmd . }
      OPTIONAL { ?coil_cmd_prop ?anyCoilPred ?coil_cmd . FILTER(isLiteral(?coil_cmd)) }
    }
  }

  # Fault logic: flag if either damper is mostly closed (<=0.2) or coil is not providing heat (<=0.2),
  # or if either value is missing (cannot confirm operation), or if both are present but at least one is not open.
  FILTER(
    (!bound(?damper_pos) && !bound(?coil_cmd)) ||
    (!bound(?damper_pos) && bound(?coil_cmd) && ?coil_cmd <= 0.2) ||
    (bound(?damper_pos) && !bound(?coil_cmd) && ?damper_pos <= 0.2) ||
    (bound(?damper_pos) && bound(?coil_cmd) && (?damper_pos <= 0.2 || ?coil_cmd <= 0.2))
  )
}
ORDER BY ?zone
",True,False,False,0,0,0,12,0.0,0.0,0.0,325241,3120,328361,0.0,0.0,0.0,0.0,0.0,0.0,False
custom_q_1,N/A,custom_list,What are all the instances of valve commands for cooling only VAVs?,openai/gpt-4.1,,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX : <urn:example#>

SELECT DISTINCT ?valve_command
WHERE {
  # Identify all VAVs that are cooling-only by their properties (no reheat coil, no heating role, etc.)
  ?vav a s223:SingleDuctTerminal .
  
  # Exclude VAVs that contain a reheat coil (which would indicate not cooling-only)
  FILTER NOT EXISTS {
    ?vav s223:contains ?reheat_coil .
    ?reheat_coil a s223:Coil .
    ?reheat_coil s223:hasAspect s223:Role-Heating .
  }
  
  # Find all valves contained in the VAV
  ?vav s223:contains ?valve .
  ?valve a s223:Valve .
  
  # Find all valve command properties of the valve
  ?valve s223:hasProperty ?valve_command .
  ?valve_command a s223:QuantifiableActuatableProperty .
}
ORDER BY ?valve_command
",True,False,False,0,0,0,1,0.0,0.0,0.0,322115,1242,323357,0.0,0.0,0.0,0.0,0.0,0.0,False
custom_q_2,N/A,custom_list,What are all the components of each air handling unit?,openai/gpt-4.1,,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX : <urn:example#>

SELECT ?ahu ?ahu_label ?component ?component_label
WHERE {
  ?ahu a s223:AirHandlingUnit .
  OPTIONAL { ?ahu rdfs:label ?ahu_label }
  ?ahu s223:contains ?component .
  OPTIONAL { ?component rdfs:label ?component_label }
}
ORDER BY ?ahu ?component
",True,True,False,0,0,16,4,0.0,0.0,0.0,107891,203,108094,0.0,0.0,0.0,0.0,0.0,0.0,False
custom_q_3,N/A,custom_list,What are the discharge air temperature sensors for all VAVs and their associated AHUs?,openai/gpt-4.1,,"PREFIX s223: <http://data.ashrae.org/standard223#>
PREFIX quantitykind: <http://qudt.org/vocab/quantitykind/>

SELECT DISTINCT ?vav ?dat_sensor ?ahu WHERE {
  # Find all VAVs (SingleDuctTerminal)
  ?vav a s223:SingleDuctTerminal .

  # Find discharge air temperature sensors for the VAV
  {
    ?vav s223:hasProperty ?dat_sensor .
  } UNION {
    ?vav s223:contains ?dat_sensor .
  }
  ?dat_sensor s223:hasQuantityKind quantitykind:Temperature .
  # Accept either hasAspect or hasRole for discharge
  OPTIONAL { ?dat_sensor s223:hasAspect ?aspect . }
  OPTIONAL { ?dat_sensor s223:hasRole ?aspect . }
  FILTER(
    COALESCE(STR(?aspect),"""") = ""http://data.ashrae.org/standard223#Role-Discharge""
    || COALESCE(STR(?aspect),"""") = ""Role-Discharge""
    || COALESCE(STR(?aspect),"""") = ""Discharge""
    || COALESCE(STR(?aspect),"""") = ""http://data.ashrae.org/standard223#Discharge""
    || !BOUND(?aspect) # Accept if no aspect is present, to be flexible
  )

  # Find the VAV's air inlet connection point
  ?vav s223:cnx ?vav_inlet_cp .
  ?vav_inlet_cp a s223:InletConnectionPoint .

  # Find the AHU that connects to this VAV inlet connection point, or is upstream
  ?ahu s223:cnx ?ahu_outlet_cp .
  ?ahu_outlet_cp a s223:OutletConnectionPoint .
  ?ahu_outlet_cp s223:cnx ?vav_inlet_cp .
  # Optionally restrict to likely AHU types (if present)
  # ?ahu a s223:AirHandlingUnit .
}
ORDER BY ?vav ?ahu ?dat_sensor
",True,False,False,0,0,0,3,0.0,0.0,0.0,322690,1864,324554,0.0,0.0,0.0,0.0,0.0,0.0,False
